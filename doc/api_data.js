define({ "api": [  {    "type": "get",    "url": "/api/parent-info",    "title": "家长信息 parent-info",    "version": "0.1.0",    "group": "User",    "name": "GetParentInfo",    "permission": [      {        "name": "none"      }    ],    "description": "<p>查询家长信息</p>",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "unionid",            "description": "<p>登录微信号对应的 UnionID</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "openid",            "description": "<p>登录微信号对应的 OpenID，用于兼容，小程序不需要填写</p>"          }        ]      },      "examples": [        {          "title": "Request-Example:",          "content": "?unionid=oO_8zy0yAhxBcEwEnPahvblLIGe1&openid=oO_8zy0yAhxBcEwEnPahvblLIGe1",          "type": "string"        }      ]    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>true</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>提示信息：“获取家长信息成功”</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "data",            "description": "<p>包含家长和学员的资料信息</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n      \"success\": true,\n      \"message\": \"获取家长信息成功\",\n      \"data\": {\n        \"id\": 1,\n        \"phone\": \"13328791363\",\n        \"name\": \"熊猫先生\",\n        \"address\": \"\",\n        \"wechat\": \"\",\n        \"company\": \"\",\n        \"companyPhone\": \"\",\n        \"unionId\": \"oO_8zw0yAhzBcEwEuPehvblLIGe0\",\n        \"openId\": \"oO_8zw0yAhzBcEwEuPehvblLIGe0\",\n        \"createTime\": \"2018-03-28T08:27:24.000Z\",\n        \"students\": [{\n            \"id\": 1,\n            \"name\": \"T小明\",\n            \"cardCode\": \"05929991\", // 学员卡号\n            \"sex\": 1, // 1:男，2:女\n            \"birthday\": \"2018-04-12\",\n            \"nickname\": \"wx\",\n            \"avatarUrl\": \"https://ouat-file.buzaishudian.com/images/student/1/avatar.png\"\n        }, {\n            \"id\": 3,\n            \"name\": \"T肠粉\",\n            \"cardCode\": \"05929993\",\n            \"sex\": 1,\n            \"birthday\": \"2018-04-04\",\n            \"nickname\": \"\",\n            \"avatarUrl\": \"https://ouat-file.buzaishudian.com/images/student/3/avatar.png\"\n        }]\n      }\n    }",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 200": [          {            "group": "Error 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>false</p>"          },          {            "group": "Error 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误提示信息：</p>   <ul>     <li>unionId 与 openId 均为空</li>     <li>未查询到家长信息, unionId=..., openId=....</li>   </ul>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 200 OK\n{\n     \"success\": false,\n     \"message\": \"unionId 与 openId 均为空\",\n   }",          "type": "json"        }      ]    },    "filename": "./parent-info.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "https://ouat.buzaishudian.com/test/api/parent-info"      }    ]  },  {    "type": "get",    "url": "/api/students",    "title": "学员列表 students",    "version": "0.1.0",    "group": "User",    "name": "GetStudents",    "permission": [      {        "name": "none"      }    ],    "description": "<p>分页查询学员列表</p>",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "startPage",            "defaultValue": "0",            "description": "<p>起始页码，从第几页开始获取记录，例如：从头一页开始获取，那么 startPage=0</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "pageSize",            "defaultValue": "10",            "description": "<p>每页包含记录数，例如：一次要请求 2 页，每页包含 10 条记录，那么 pageSize=10</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "pages",            "defaultValue": "1",            "description": "<p>要获取多少页，例如：一次请求 2 页，pages=2，如果每页包含 10 条记录，总共获取了 20 条记录</p>"          }        ]      },      "examples": [        {          "title": "Request-Example:",          "content": "?startPage=0&pageSize=20&pages=1",          "type": "json"        }      ]    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>true</p>"          },          {            "group": "Success 200",            "type": "Array",            "optional": false,            "field": "data",            "description": "<p>学员信息数组</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n      \"success\": true,\n      \"data\": {\n        \"total\": 63, // 表示数据库中总共有 63 条记录\n        \"size\": 2,   // 表示当前获取了 2 条记录\n        \"start\": 0,  // 表示当前首条记录，在数据库 63 条记录中，索引为 0\n        \"records\": [{\n          \"studentId\": 41,          // 学员 ID\n          \"cardCode\": \"05920001\",   // 学员卡号\n          \"sex\": 2,                 // 1 为男，2 为女\n          \"freeze\": 0,              // 1 表示被冻结\n          \"name\": \"曹语荞\",          // 学员姓名\n          \"nickname\": \"\",           // 学员昵称\n          \"birthday\": \"2011-11-16\", // 学员出生日期\n          \"avatarUrl\": \"\",          // 学员头像 URL\n          \"remainMoney\": 10000,     // 储值卡余额\n          \"bandMac\": null           // 手环 MAC 地址\n        }, {\n          \"studentId\": 42,\n          \"cardCode\": \"05920002\",\n          \"sex\": 1,\n          \"freeze\": 0,\n          \"name\": \"李钧锭\",\n          \"nickname\": \"Max\",\n          \"birthday\": \"2012-05-01\",\n          \"avatarUrl\": \"\",\n          \"remainMoney\": 5464,\n          \"bandMac\": null\n        }]\n      }\n    }",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 200": [          {            "group": "Error 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>false</p>"          },          {            "group": "Error 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误提示信息：</p>   <ul>     <li>查询学员记录总数异常</li>     <li>未查询到学员信息</li>     <li>...</li>   </ul>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 200 OK\n{\n     \"success\": false,\n     \"message\": \"查询学员记录总数异常\",\n   }",          "type": "json"        }      ]    },    "filename": "./students.js",    "groupTitle": "User",    "sampleRequest": [      {        "url": "https://ouat.buzaishudian.com/test/api/students"      }    ]  },  {    "type": "post",    "url": "/api/mini/decrypt",    "title": "数据解密 decrypt",    "version": "0.1.0",    "group": "WxMini",    "name": "Decrypt",    "permission": [      {        "name": "none"      }    ],    "description": "<p>将微信小程序的加密数据进行解密</p>",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "appId",            "description": "<p>小程序 AppID</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "openId",            "description": "<p>登录微信号对应的 OpenID</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "encryptedData",            "description": "<p>加密数据</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "iv",            "description": "<p>解密算法初始向量</p>"          }        ]      },      "examples": [        {          "title": "Request-Example:",          "content": "{\n  appId: \"wxf4ff3923fa71c9a3\",\n  openId: \"oO8zy0yAhxBcEwEnPahvblLIGe18\",\n  encryptedData: \"jy4QNx6J7sQp1Qal8jy4QNx6J7sQp1Qal8....\",\n  iv: \"tiihtNczf5v6AKRyjwEUhQ==\",\n}",          "type": "json"        }      ]    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>true</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>提示信息：“解密成功”</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "data",            "description": "<p>解密数据</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": true,\n  \"message\": \"解密成功\",\n  \"data\": {\n    \"openId\": \"oO8zy0yAhxBcEwEnPahvblLIGe18\",\n    \"nickName\": \"NICKNAME\",\n     \"gender\": 1,\n     \"city\": \"厦门\",\n     \"province\": \"福建\",\n     \"country\": \"中国\",\n     \"avatarUrl\": \"http://...\",\n     \"unionId\": \"oa1h32opKa_jy5QNr7J7sQp1Qhl8\",\n     \"watermark\": {\n         \"appid\":\"wxf4ff3923fa71c9a3\",\n         \"timestamp\": 1532672962,\n     },\n     \"token\": \"8102b22a5e81e840176d9f381ec6f837\" // sessionKey 的加密字符串，用于扣款时的身份验证\n  }\n}",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 200": [          {            "group": "Error 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>false</p>"          },          {            "group": "Error 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>错误提示信息</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": false,\n  \"message\": \"\"\n}",          "type": "json"        }      ]    },    "filename": "./decrypt.js",    "groupTitle": "WxMini",    "sampleRequest": [      {        "url": "https://ouat.buzaishudian.com/test/api/mini/decrypt"      }    ]  },  {    "type": "get",    "url": "/api/mini/user-id",    "title": "微信用户ID user-id",    "version": "0.1.0",    "group": "WxMini",    "name": "GetUserID",    "permission": [      {        "name": "none"      }    ],    "description": "<p>换取登录微信号对应的 OpenID，如果用户关注了同主体公众号，则会同时获得到 UnionID。<br /> <br />UnionID获取途径： <br />    绑定了开发者帐号的小程序，可以通过下面3种途径获取UnionID。 <br />    1. 调用接口wx.getUserInfo，从解密数据中获取UnionID。 注意本接口需要用户授权，请开发者妥善处理用户拒绝授权后的情况。 <br />    2. 如果开发者帐号下存在同主体的公众号，并且该用户已经关注了该公众号。 开发者可以直接通过wx.login获取到该用户UnionID，无须用户再次授权。 <br />    3. 如果开发者帐号下存在同主体的公众号或移动应用， 并且该用户已经授权登录过该公众号或移动应用。开发者也可以直接通过wx.login获取到该用户UnionID，无须用户再次授权。</p>",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "appid",            "description": "<p>微信小程序的 App ID</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "code",            "description": "<p>通过微信 SDK 获取到的接口调用授权码</p>"          }        ]      },      "examples": [        {          "title": "Request-Example:",          "content": "?appid=wxf4ff3923fa71c9a3&code=071VBEFI0KtoTg2NttAI0MUQFI0VBEFz",          "type": "string"        }      ]    },    "success": {      "fields": {        "Success 200": [          {            "group": "Success 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>true</p>"          },          {            "group": "Success 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>提示信息：“获取成功”</p>"          },          {            "group": "Success 200",            "type": "Object",            "optional": false,            "field": "data",            "description": "<p>包含 OpenID 和 token（sessionKey 的加密字符串），或同时也包含 UnionID</p>"          }        ]      },      "examples": [        {          "title": "Success-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": true,\n  \"data\": {\n    \"openId\": \"oO8zy0yAhxBcEwEnPahvblLIGe18\",\n    \"unionId\": \"oa1h32opKa_jy5QNr7J7sQp1Qhl8\", // 可能为空\n    \"token\": \"8102b22a5e81e840176d9f381ec6f837\" // sessionKey 的加密字符串，用于扣款时的身份验证\n  }\n}",          "type": "json"        }      ]    },    "error": {      "fields": {        "Error 200": [          {            "group": "Error 200",            "type": "Boolean",            "optional": false,            "field": "success",            "description": "<p>false</p>"          },          {            "group": "Error 200",            "type": "String",            "optional": false,            "field": "message",            "description": "<p>来着微信的错误提示信息</p>"          }        ]      },      "examples": [        {          "title": "Error-Response:",          "content": "HTTP/1.1 200 OK\n{\n  \"success\": false,\n  \"message\": \"(40002) 不合法的凭证类型\"\n}",          "type": "json"        }      ]    },    "filename": "./user-id.js",    "groupTitle": "WxMini",    "sampleRequest": [      {        "url": "https://ouat.buzaishudian.com/test/api/mini/user-id"      }    ]  }] });
